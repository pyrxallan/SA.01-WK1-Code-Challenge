<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Coding Challenges</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .challenge {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .challenge:hover {
            transform: translateY(-5px);
        }

        .challenge h2 {
            color: #333;
            margin-bottom: 15px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        input[type="number"], input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input[type="number"]:focus, input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            min-height: 50px;
            display: flex;
            align-items: center;
        }

        .result.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .result.warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .result.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .salary-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .breakdown-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .breakdown-item span {
            display: block;
            font-size: 0.9em;
            color: #666;
        }

        .breakdown-item strong {
            font-size: 1.1em;
            color: #333;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .challenge {
                padding: 20px;
            }
            
            .salary-breakdown {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ JavaScript Coding Challenges</h1>

        <!-- Challenge 1: Student Grade Generator -->
        <div class="challenge">
            <h2>üìä Challenge 1: Student Grade Generator</h2>
            <div class="input-group">
                <label for="studentMark">Enter student mark (0-100):</label>
                <input type="number" id="studentMark" min="0" max="100" placeholder="Enter mark between 0 and 100">
            </div>
            <button onclick="generateGrade()">Generate Grade</button>
            <button onclick="clearGrade()">Clear</button>
            <div id="gradeResult" class="result" style="display: none;"></div>
        </div>

        <!-- Challenge 2: Speed Detector -->
        <div class="challenge">
            <h2>üöó Challenge 2: Speed Detector</h2>
            <div class="input-group">
                <label for="carSpeed">Enter car speed (km/h):</label>
                <input type="number" id="carSpeed" min="0" placeholder="Enter speed in km/h">
            </div>
            <button onclick="detectSpeed()">Check Speed</button>
            <button onclick="clearSpeed()">Clear</button>
            <div id="speedResult" class="result" style="display: none;"></div>
        </div>

        <!-- Challenge 3: Net Salary Calculator -->
        <div class="challenge">
            <h2>üí∞ Challenge 3: Kenya Net Salary Calculator (2025)</h2>
            <div class="input-group">
                <label for="basicSalary">Enter basic salary (KSh):</label>
                <input type="number" id="basicSalary" min="0" placeholder="Enter basic salary in KSh">
            </div>
            <div class="input-group">
                <label for="benefits">Enter total benefits (KSh) - Optional:</label>
                <input type="number" id="benefits" min="0" placeholder="Enter benefits (house allowance, etc.)">
            </div>
            <button onclick="calculateNetSalary()">Calculate Net Salary</button>
            <button onclick="clearSalary()">Clear</button>
            <div id="salaryResult" class="result" style="display: none;"></div>
        </div>
    </div>

    <script>
        // Challenge 2: Speed Detector
        function detectSpeed() {
            const speed = parseFloat(document.getElementById('carSpeed').value);
            const resultDiv = document.getElementById('speedResult');   // Result display div
            const speedLimit = 70;
            
            // Input validation
            if (isNaN(speed) || speed < 0) {
                resultDiv.innerHTML = '‚ùå Please enter a valid speed';
                resultDiv.className = 'result error';
                resultDiv.style.display = 'flex';
                return;
            }
            
            // Speed detection logic
            if (speed < speedLimit) {
                resultDiv.innerHTML = '‚úÖ Ok - Speed is within limit'; // No points
                resultDiv.className = 'result success'; // Green
            } else {
                const excessSpeed = speed - speedLimit;
                const demeritPoints = Math.floor(excessSpeed / 5);
                
                if (demeritPoints > 12) {
                    resultDiv.innerHTML = `üö´ License suspended! Points: ${demeritPoints} (Speed: ${speed} km/h)`;
                    resultDiv.className = 'result error';
                } else {
                    resultDiv.innerHTML = `‚ö†Ô∏è Points: ${demeritPoints} (Speed: ${speed} km/h, Excess: ${excessSpeed} km/h)`;
                    resultDiv.className = 'result warning';
                }
            }
            // Display result
            resultDiv.style.display = 'flex';
        }

        // Clear input and result
        function clearSpeed() {
            document.getElementById('carSpeed').value = ''; // Clear input
            document.getElementById('speedResult').style.display = 'none'; // Hide result
        }

        // Challenge 1: Student Grade Generator
        function generateGrade() {
            const mark = parseFloat(document.getElementById('studentMark').value);
            const resultDiv = document.getElementById('gradeResult');
            
            // Input validation
            if (isNaN(mark) || mark < 0 || mark > 100) {
                resultDiv.innerHTML = '‚ùå Please enter a valid mark between 0 and 100';
                resultDiv.className = 'result error';
                resultDiv.style.display = 'flex';
                return;
            }
            
            // Grade determination
            let grade;
            if (mark > 79) {
                grade = 'A';
            } else if (mark >= 60) {
                grade = 'B';
            } else if (mark >= 49) {
                grade = 'C';
            } else if (mark >= 40) {
                grade = 'D';
            } else {
                grade = 'E';
            }
            
            // Display result
            resultDiv.innerHTML = `Grade: <strong>${grade}</strong>`;
            resultDiv.className = 'result success';
            resultDiv.style.display = 'flex';
        }

        // Clear input and result
        function clearGrade() {
            document.getElementById('studentMark').value = '';
            document.getElementById('gradeResult').style.display = 'none';
        }

        // Challenge 3: Kenya Net Salary Calculator (2025 rates)
        function calculateNetSalary() {
            const basicSalary = parseFloat(document.getElementById('basicSalary').value);
            const benefits = parseFloat(document.getElementById('benefits').value) || 0;
            const resultDiv = document.getElementById('salaryResult');
            
            if (isNaN(basicSalary) || basicSalary <= 0) {
                resultDiv.innerHTML = '‚ùå Please enter a valid basic salary';
                resultDiv.className = 'result error';
                resultDiv.style.display = 'flex';
                return;
            }
            
            const grossSalary = basicSalary + benefits;
            
            // NSSF Calculation (February 2025 rates: Tier I up to 8,000, Tier II 8,001-72,000)
            let nssf = 0;
            if (grossSalary <= 8000) {
                nssf = grossSalary * 0.06; // 6% of gross salary for Tier I
            } else if (grossSalary <= 72000) {
                nssf = (8000 * 0.06) + ((grossSalary - 8000) * 0.06); // Tier I + Tier II
            } else {
                nssf = (8000 * 0.06) + ((72000 - 8000) * 0.06); // Maximum NSSF
            }
            
            // SHIF Calculation (2.75% of gross salary, minimum 300)
            let shif = grossSalary * 0.0275;
            if (shif < 300) shif = 300;
            
            // Housing Levy (1.5% of gross salary, max 5,000 - tax deductible from Dec 2024)
            let housingLevy = grossSalary * 0.015;
            if (housingLevy > 5000) housingLevy = 5000;
            
            // Taxable income (gross - NSSF - SHIF - Housing Levy)
            const taxableIncome = grossSalary - nssf - shif - housingLevy;
            
            // PAYE Tax calculation using 2025 brackets
            let paye = 0;
            const personalRelief = 2400; // Monthly personal relief
            
            if (taxableIncome > 24000) {
                // First band: 0-24,000 at 10%
                paye += 24000 * 0.10;
                
                if (taxableIncome > 32333) {
                    // Second band: 24,001-32,333 at 25%
                    paye += (32333 - 24000) * 0.25;
                    
                    if (taxableIncome > 500000) {
                        // Third band: 32,334-500,000 at 30%
                        paye += (500000 - 32333) * 0.30;
                        
                        if (taxableIncome > 800000) {
                            // Fourth band: 500,001-800,000 at 32.5%
                            paye += (800000 - 500000) * 0.325;
                            
                            // Fifth band: Above 800,000 at 35%
                            paye += (taxableIncome - 800000) * 0.35;
                        } else {
                            paye += (taxableIncome - 500000) * 0.325;
                        }
                    } else {
                        paye += (taxableIncome - 32333) * 0.30;
                    }
                } else {
                    paye += (taxableIncome - 24000) * 0.25;
                }
            } else {
                paye = taxableIncome * 0.10;
            }
            
            // Apply personal relief
            paye = Math.max(0, paye - personalRelief);
            
            // Calculate net salary
            const netSalary = grossSalary - nssf - shif - housingLevy - paye;
            
            // Display results
            resultDiv.innerHTML = `
                <div class="salary-breakdown">
                    <div class="breakdown-item">
                        <span>Gross Salary</span>
                        <strong>KSh ${grossSalary.toLocaleString()}</strong>
                    </div>
                    <div class="breakdown-item">
                        <span>NSSF (6%)</span>
                        <strong>KSh ${nssf.toLocaleString()}</strong>
                    </div>
                    <div class="breakdown-item">
                        <span>SHIF (2.75%)</span>
                        <strong>KSh ${shif.toLocaleString()}</strong>
                    </div>
                    <div class="breakdown-item">
                        <span>Housing Levy (1.5%)</span>
                        <strong>KSh ${housingLevy.toLocaleString()}</strong>
                    </div>
                    <div class="breakdown-item">
                        <span>Taxable Income</span>
                        <strong>KSh ${taxableIncome.toLocaleString()}</strong>
                    </div>
                    <div class="breakdown-item">
                        <span>PAYE Tax</span>
                        <strong>KSh ${paye.toLocaleString()}</strong>
                    </div>
                    <div class="breakdown-item" style="background: #e8f5e8; border-left-color: #28a745;">
                        <span>NET SALARY</span>
                        <strong style="color: #28a745; font-size: 1.3em;">KSh ${netSalary.toLocaleString()}</strong>
                    </div>
                </div>
            `;
            resultDiv.className = 'result success';
            resultDiv.style.display = 'block';
        }

        // Clear input and result
        function clearSalary() {
            document.getElementById('basicSalary').value = '';
            document.getElementById('benefits').value = '';
            document.getElementById('salaryResult').style.display = 'none';
        }
        // Add Enter key support for all inputs
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('studentMark').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') generateGrade();
            });
            
            document.getElementById('carSpeed').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') detectSpeed();
            });
            
            document.getElementById('basicSalary').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateNetSalary();
            });
            
            document.getElementById('benefits').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateNetSalary();
            });
        });
    </script>
</body>
</html>